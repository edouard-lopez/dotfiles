#!/usr/bin/env fish
# Config for FISH

function configure_shell
    if  test  -n $FISH_VERSION
        function refresh
            source "$HOME"/.config/fish/config.fish
        end
    end
end

function start_tmux
    # https://wiki.archlinux.org/index.php/Tmux#Start_tmux_on_every_shell_login
    if type tmux > /dev/null
        #if not inside a tmux session, and if no session is started, start a new session
        if test -z "$TMUX" ; and test -z $TERMINAL_CONTEXT
            tmux -2 attach; or tmux -2 new-session
        end
    end
end

start_tmux
configure_shell
